<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        #computer-choice {
            display: none;
        }
    </style>
</head>

<body>
    <main>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
        <div id="computer-choice"></div>
        <div id="results"></div>
        <div id="user-running-total"></div>
        <div id="computer-running-total"></div>
        <div id="instructions"></div>

    </main>
    <script>
       
        
        let computerSelection = "";
        let userSelection = "";
        
        function computerPlay() {
            let randomNumber = Math.floor(Math.random() * 3);
            if (randomNumber === 0) {
                computerSelection = 'rock';
            } else if (randomNumber === 1) {
                computerSelection = 'paper';
            } else if (randomNumber === 2) {
                computerSelection = 'scissors';
            } else {
                console.log('something has gone wrong');
            }
            return computerSelection;
        }

        let userTotal = 0;
        let computerTotal = 0;
        const computerChoice = document.querySelector('#computer-choice')
        const results = document.querySelector('#results');
        
        function playRound(userSelection, computerSelection) {
            if (userSelection === computerSelection) {
                results.textContent = 'It\'s a tie. Play again';
            } 
              
              else if (computerSelection === 'rock') {
                if (userSelection === 'paper') {
                    results.textContent = 'You win this round';
                    return userTotal += 1;
                } else {
                    results.textContent = 'The computer wins this round';
                    return computerTotal += 1;
                };
                }
             

              else if (computerSelection === 'paper') {
                if (userSelection === 'rock') {
                    results.textContent = 'The computer wins this round';
                    return computerTotal += 1;
                } else {
                    results.textContent = 'You win this round';
                    return userTotal += 1;
                }
            } 
              
              else if (computerSelection === 'scissors') {
                if (userSelection === 'rock') {
                    results.textContent = 'You win this round';
                    return userTotal += 1;
                } else {
                    results.textContent = 'The computer wins this round';
                    return computerTotal += 1;
                }
            } 
        }
        /*computerSelection = computerPlay();*/
        
        console.log(computerSelection);
       
        const userRunningTotal = document.querySelector('#user-running-total');
        const computerRunningTotal = document.querySelector('#computer-running-total');
        const instructions = document.querySelector('#instructions');
        
        
        document.getElementById("rock").addEventListener("click", function(){
                computerPlay();
                playRound('rock', computerSelection);
                computerChoice.style.display = "block";
                computerChoice.textContent = `The computer has chosen ${computerSelection}`;
                userRunningTotal.textContent = `You have ${userTotal} points.`;
                computerRunningTotal.textContent = `The computer has ${computerTotal} points.`;
                if (userTotal == 3) {
                   instructions.textContent = 'You win the game!';
                } else if (computerTotal == 3) {
                   instructions.textContent = 'The computer wins the game!'
                } else {
                   instructions.textContent = 'Pick again';
                }

            })
        document.getElementById("paper").addEventListener("click", function(){
                computerPlay();
                playRound('paper', computerSelection);
                computerChoice.style.display = "block";
                computerChoice.textContent = `The computer has chosen ${computerSelection}`;
                userRunningTotal.textContent = `You have ${userTotal} points.`;
                computerRunningTotal.textContent = `The computer has ${computerTotal} points.`;
                if (userTotal == 3) {
                   instructions.textContent = 'You win the game!';
                } else if (computerTotal == 3) {
                   instructions.textContent = 'The computer wins the game!'
                } else {
                   instructions.textContent = 'Pick again';
                }
            })
        document.getElementById("scissors").addEventListener("click", function(){
                computerPlay();
                playRound('scissors', computerSelection);
                computerChoice.style.display = "block";
                computerChoice.textContent = `The computer has chosen ${computerSelection}`;
                userRunningTotal.textContent = `You have ${userTotal} points.`;
                computerRunningTotal.textContent = `The computer has ${computerTotal} points.`;
                if (userTotal == 3) {
                   instructions.textContent = 'You win the game!';
                } else if (computerTotal == 3) {
                   instructions.textContent = 'The computer wins the game!'
                } else {
                   instructions.textContent = 'Pick again';
                }
            })
                
       
         /*function game() {            
            do {
            
               /*computerSelection = computerPlay();*/
               
               /*playRound(userSelection, computerSelection);*/
               /*userRunningTotal.textContent = `You have ${userTotal} points`;
               computerRunningTotal.textContent = `The computer has ${computerTotal} points`;
               
               
               console.log(computerSelection);
               console.log(userTotal);
               console.log(computerTotal);*/
            
            /*})
            }
            /*while (userTotal < 3 && computerTotal < 3);
            
            if (userTotal == 3) {
                   console.log('You win the game!');
            } else if (computerTotal == 3) {
                   console.log('The computer wins the game!')
            } else {
                   console.log('Something went wrong');
            }*/
            /*while (totals[0] < 3 && totals[1] < 3);

            if (totals[0] === 3) {
                console.log('You win the game!');
            } else if (totals[1] === 3) {
                console.log('The computer wins the game!')
            } else {
                console.log('Something went wrong');
            }
           
        }

        game();*/
 
       /* Option to restart match. */

    </script>
</body>

</html>